#!name=ğŸ¿ï¸ DualSubs: ğŸµ Spotify
#!desc=Spotifyæ­Œè¯å¢å¼ºåŠåŒè¯­æ¨¡å—
#!openUrl=http://boxjs.com/#/app/DualSubs.Spotify
#!author=VirgilClyne
#!homepage=https://github.com/DualSubs
#!manual=https://github.com/DualSubs/Spotify/wiki/ğŸ¿-DualSubs:-ğŸµ-Spotify
#!icon=https://github.com/DualSubs/Spotify/raw/main/src/assets/icon_rounded.png
#!category=ğŸ¿ï¸ DualSubs
#!arguments=Types:"Translate,External",Vendor:Google,LrcVendor:NeteaseMusic
#!arguments-desc=Types: [æ­Œè¯]å¯ç”¨ç±»å‹ï¼ˆå¤šé€‰ï¼‰\n    â”œ Translate: ç¿»è¯‘æ­Œè¯ï¼ˆç¿»è¯‘å™¨ï¼‰\n    â”” External: å¤–éƒ¨æ­Œè¯ï¼ˆå¤–éƒ¨æºï¼‰\n\nVendor: [ç¿»è¯‘å™¨]æœåŠ¡å•†API\n    â”œ Google: Google Translate\n    â”œ GoogleCloud: Google Cloud Translateï¼ˆéœ€å¡«å†™APIï¼‰\n    â”œ Microsoft: Microsoft Translatorï¼ˆéœ€å¡«å†™APIï¼‰\n    â”” DeepL: DeepL APIï¼ˆéœ€å¡«å†™APIï¼‰\n\nLrcVendor: [å¤–éƒ¨æº]æ­Œè¯æœåŠ¡å•†API\n    â”œ NeteaseMusic: ç½‘æ˜“äº‘éŸ³ä¹ï¼ˆå®˜æ–¹ï¼‰\n    â”œ QQMusic: QQéŸ³ä¹ï¼ˆå®˜æ–¹ï¼‰\n    â”” NeteaseMusicNodeJS: ç½‘æ˜“äº‘éŸ³ä¹ NodeJS API

[Script]
DualSubs.Spotify.Tracks.response.json = type=http-response, pattern=^https?:\/\/api\.spotify\.com\/v1\/tracks\?, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/DualSubs/Spotify/main/js/Spotify.response.js, argument=

DualSubs.Spotify.Lyrics.request.json = type=http-request, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json, requires-body=1, script-path=https://raw.githubusercontent.com/DualSubs/Spotify/main/js/Spotify.request.js, argument=Types="{{{Types}}}"
DualSubs.Spotify.Lyrics.request.proto = type=http-request, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*), requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/DualSubs/Spotify/main/js/Spotify.request.js, argument=Types="{{{Types}}}"

DualSubs.Spotify.Translate.Lyrics.response.json = type=http-response, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=Translate, requires-body=1, script-path=https://raw.githubusercontent.com/DualSubs/Universal/main/js/Translate.response.js, argument=Vendor={{{Vendor}}}
DualSubs.Spotify.Translate.Lyrics.response.proto = type=http-response, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=Translate, requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/DualSubs/Universal/main/js/Translate.response.js, argument=Vendor={{{Vendor}}}

DualSubs.Spotify.External.Lyrics.response.json = type=http-response, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=External, requires-body=1, script-path=https://raw.githubusercontent.com/DualSubs/Universal/main/js/External.Lyrics.response.js, argument=LrcVendor={{{LrcVendor}}}
DualSubs.Spotify.External.Lyrics.response.proto = type=http-response, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=External, requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/DualSubs/Universal/main/js/External.Lyrics.response.js, argument=LrcVendor={{{LrcVendor}}}

[MITM]
hostname = %APPEND% api.spotify.com, spclient.wg.spotify.com
